<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.2.0/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.2.0/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/3.5.2/redux.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-redux/4.4.5/react-redux.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-router/2.5.2/ReactRouter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-router-redux/4.0.5/ReactRouterRedux.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
  </head>
  <body>
    <div id="react"></div>
    <pre>

    </pre>
    <script  type="text/babel">
      var compose=(...args)=>(state,action)=>{
        console.log(args)
        return args.reduceRight((result,arg)=>{
          return Object.keys(arg).reduce((r,key)=>{
            var fn=arg[key];
            var oldState=state[key];
            var newState=fn(oldState,action,result);
            r[key]=newState;
            return r;
          },{});
        },{})
      }
      var entityReducer={
        ticket:(state={},action,cState)=>{
          console.log("ticket",cState);
          return state;
        },
        contact:(state={},action,cState)=>{
          console.log("contact",cState);
          return state;
        }
      }
      var uiReducer={
        ticketListUIState:(state={},action,cState)=>{
          console.log("ticketListUIState",cState);
          return state;
        }
      }
      var initialState = {
        ticket:{
          1:{
            id:1,
            subject:"ticket1"
          }
        },
        contact:{
          1:{
            id:1,
            name:"contact1"
          }
        },
        ticketListUIState:{
          loading:false
        }
      }
      console.log(compose(uiReducer,entityReducer)(initialState,{type:"test"}))

    /*  var reducers=Redux.combineReducers(
      ticketListUIState:(state={},action,cState)=>{
        console.log("ticketListUIState");
        return state;
      });
    var initialState = {
      ticket:{
        1:{
          id:1,
          subject:"ticket1"
        }
      },
      contact:{
        1:{
          id:1,
          name:"contact1"
        }
      },
      ticketListUIState:{
        loading:false
      }
    }

      var store=Redux.createStore(reducers,initialState);
      console.log(store.getState());*/
    </script>
  </body>
</html>
